BRAINVISA_GET_FILE_LIST_FROM_PRO(  ${CMAKE_CURRENT_SOURCE_DIR}/lib.pro "HEADERS" _headers "SOURCES" _sources )
BRAINVISA_COPY_AND_INSTALL_HEADERS( _headers cartobase )
add_library( cartobase SHARED ${_sources} )
set_property( TARGET cartobase PROPERTY VERSION ${${PROJECT_NAME}_VERSION} )
target_link_libraries( cartobase ${LIBXML2_LIBRARIES} ${Sigc++2_LIBRARIES}  )
if( WIN32 AND CMAKE_CROSSCOMPILING )
  target_link_libraries( cartobase ws2_32 ole32 )
endif( WIN32 AND CMAKE_CROSSCOMPILING )
if(UNIX)
  target_link_libraries( cartobase "pthread" )
endif(UNIX)
if(APPLE)
  target_link_libraries( cartobase "-framework CoreServices" )
endif(APPLE)
BRAINVISA_INSTALL( TARGETS cartobase
              DESTINATION lib
              COMPONENT ${PROJECT_NAME} )
BRAINVISA_GENERATE_DOXYGEN_DOC( _headers  )
